(this["webpackJsonpmusic-app-frontend"]=this["webpackJsonpmusic-app-frontend"]||[]).push([[0],{24:function(e,a,n){},27:function(e,a,n){},28:function(e,a,n){},29:function(e,a,n){},30:function(e,a,n){},31:function(e){e.exports=JSON.parse('{"Countries":["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas (the)","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (the)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands (the)","Central African Republic (the)","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands (the)","Colombia","Comoros (the)","Congo (the Democratic Republic of the)","Congo (the)","Cook Islands (the)","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d\'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic (the)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (the) [Malvinas]","Faroe Islands (the)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories (the)","Gabon","Gambia (the)","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (the)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (the Democratic People\'s Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People\'s Democratic Republic (the)","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands (the)","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands (the)","New Caledonia","New Zealand","Nicaragua","Niger (the)","Nigeria","Niue","Norfolk Island","Northern Mariana Islands (the)","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation (the)","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan (the)","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands (the)","Tuvalu","Uganda","Ukraine","United Arab Emirates (the)","United Kingdom of Great Britain and Northern Ireland (the)","United States Minor Outlying Islands (the)","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"]}')},32:function(e,a,n){},33:function(e,a,n){},39:function(e,a,n){},40:function(e,a,n){"use strict";n.r(a);var t=n(1),i=n.n(t),r=n(18),s=n.n(r),o=(n(24),n(7)),c=n(10),l=n(2),d=n(9),u=n.n(d),b=n(12),h=n(0);function j(e){var a=e.src;return console.log("Rendering Video"),Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:Object(h.jsx)("iframe",{width:"560",height:"315",src:a,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; gyroscope; picture-in-picture",allowFullScreen:!0})})})}n(27);function m(e){var a=e.user,n=e.date,t=e.desc,i=e.genres;return console.log("Rendering SongInfoComponent"),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body p-0",children:[Object(h.jsxs)("h5",{className:"card-title fw-light",children:[Object(h.jsx)("span",{children:Object(h.jsx)("i",{className:"bi bi-person-circle"})}),a]}),Object(h.jsx)("h6",{className:"card-subtitle ml-2 text-muted fw-light",children:function(e){var a=new Date(parseInt(e,10));return a.toLocaleString("default",{month:"short",day:"numeric",year:"numeric"})}(n)}),Object(h.jsxs)("p",{className:"card-text fw-light",children:['"',t,'"']}),i.map((function(e,a){return Object(h.jsx)("span",{className:"badge rounded-pill fw-light",children:e},""+e+a)}))]})})})}n(28);function g(e){var a=e.country,n=Object(t.useState)(""),i=Object(o.a)(n,2),r=i[0],s=i[1],c=Object(t.useState)({user:"",date:Date.now().toString(),desc:"",genres:[]}),l=Object(o.a)(c,2),d=l[0],g=l[1];return Object(t.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){var n,t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/country/".concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,i=t.songs[0],console.log("Got songs",i.url),s("https://www.youtube.com/embed/"+i.url),g({user:i.user,date:i.date,desc:i.description,genres:i.genre.split(" ")});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("Searching for videos from",a),e()}),[a]),console.log("Rendering MainPage"),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{className:"display-6",children:["Check out this song from ",function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")}(a)]}),Object(h.jsxs)("div",{className:"row row align-items-center videoRow",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(j,{src:r})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(m,{user:d.user,date:d.date,desc:d.desc,genres:d.genres})})]}),Object(h.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maiores, enim fuga possimus, eos aliquid odit obcaecati, quod nisi blanditiis maxime recusandae voluptatibus. Odit sapiente ducimus voluptas natus aliquam iusto nemo. Yeeee!"})]})}function p(e,a,n){return"danger"===e?Object(h.jsx)("div",{className:"alert alert-danger",role:"alert",style:{width:"50%"},children:a}):"success"===e?Object(h.jsxs)("div",{className:"alert alert-success alert-dismissible",role:"alert",style:{width:"50%"},children:[a,Object(h.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:n})]}):void 0}function f(e){var a=e.type,n=e.message,t=e.onClick;return Object(h.jsx)("div",{children:p(a,n,t)})}n(29);function x(e){var a=e.countriesArray,n=e.onChange,t=e.onBlur,i=e.onSubmit,r=e.error,s=e.errorType,o=e.errorMessage,c=e.onErrorClose;return console.log("Rendering AddMusicFormComponent"),Object(h.jsxs)("div",{children:[r?Object(h.jsx)(f,{type:s,message:o,onClick:c}):null,Object(h.jsxs)("form",{className:"addMusicForm",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-light fw-light",children:"YouTube Video"}),Object(h.jsx)("input",{type:"url",className:"form-control bg-dark text-light border-secondary",placeholder:"url",onChange:n,onBlur:function(e){return t(e,"url")}})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-light fw-light",children:"Country"}),Object(h.jsxs)("select",{className:"form-control bg-dark text-light border-secondary",defaultValue:"DEFAULT",onBlur:function(e){return t(e,"country")},children:[Object(h.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select country"}),a.map((function(e){return Object(h.jsx)("option",{children:e},e)}))]})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-light fw-light",children:"Genre"}),Object(h.jsx)("input",{type:"text",className:"form-control bg-dark text-light border-secondary",placeholder:"genre",onBlur:function(e){return t(e,"genre")}})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"text-light fw-light",children:"Tell viewers why you chose this video"}),Object(h.jsx)("textarea",{className:"form-control bg-dark text-light border-secondary",rows:"3",onChange:n,onBlur:function(e){return t(e,"desc")}})]}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("button",{type:"button",className:"btn btn-dark text-light fw-light border-secondary",onClick:i,children:"Submit"})})]})]})}n(30);function O(){var e=n(31).Countries,a=Object(t.useState)(void 0),i=Object(o.a)(a,2),r=i[0],s=i[1],c=Object(t.useState)(void 0),l=Object(o.a)(c,2),d=l[0],j=l[1],m=Object(t.useState)(void 0),g=Object(o.a)(m,2),p=g[0],f=g[1],O=Object(t.useState)(void 0),v=Object(o.a)(O,2),y=v[0],S=v[1],N=Object(t.useState)([!1,"",""]),w=Object(o.a)(N,2),C=w[0],M=w[1];function k(){return(k=Object(b.a)(u.a.mark((function e(){var a,n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:r,country:d,desc:p,genre:y})},e.next=4,fetch("/newSong",a);case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,console.log("res",t),console.log("Added newSong",t),M([!0,"success","Song added!"]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return console.log("Rendering AddMusicPage"),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"formInfo",children:[Object(h.jsx)("h1",{className:"display-6",children:"Add a new video for your country"}),Object(h.jsx)("p",{className:"lead",children:"To upload your song, simply find it on YouTube, and copy and paste the url below. Don't forget to tell us more about the song such as it's origins, why you chose to share it, whether or not it has any cultural significance, or anything else you'd like to tell viewers about it!"})]}),Object(h.jsx)(x,{countriesArray:e,onChange:function(){C[0]&&M([!1,"",""])},onBlur:function(e,a){switch(a){case"url":!function(e){if(void 0!==e){var a=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|\?v=)([^#&?]*).*/);a&&11===a[2].length?s(e):M([!0,"danger","Invalid url"])}}(e.target.value);break;case"country":j(e.target.value.toLowerCase());break;case"desc":f(e.target.value);break;case"genre":S(e.target.value)}},onSubmit:function(){void 0!==d?void 0!==p&&""!==p?void 0!==r&&""!==r?(C[0]&&M([!1,"",""]),function(){k.apply(this,arguments)}()):M([!0,"danger","Missing URL"]):M([!0,"danger","Missing Description"]):M([!0,"danger","Missing Country"])},error:C[0],errorType:C[1],errorMessage:C[2],onErrorClose:function(){console.log("Refreshing page"),window.location.reload(!1)}})]})}n(32);function v(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{className:"display-6",children:"Discover music from around the world"})})}n(33);function y(){var e=Object(l.f)();return console.log("Location",e),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("i",{className:"bi bi-house-fill",children:Object(h.jsx)(c.b,{className:"nav-link"+("/"===e.pathname?" active":""),to:"/",children:Object(h.jsx)("span",{className:"fw-light",children:"Home"})})})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{className:"bi bi-plus-circle",children:Object(h.jsx)(c.b,{className:"nav-link"+("/add"===e.pathname?" active":""),to:"/add",children:Object(h.jsx)("span",{className:"fw-light",children:"Add Music"})})})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{className:"bi bi-geo-alt",children:Object(h.jsx)(c.b,{className:"nav-link"+("/countries"===e.pathname?" active":""),to:"/countries",children:Object(h.jsx)("span",{className:"fw-light",children:"Countries"})})})})]})}var S=function(e){var a=e.onHamburgerClick,n=e.onSearch,t="";return console.log("Rendering NavBar"),Object(h.jsx)("nav",{className:"navbar navbar-expand-xxl navbar-dark",style:{backgroundColor:"#301b3f"},children:Object(h.jsxs)("div",{className:"container-fluid m-0",children:[Object(h.jsx)("button",{type:"button",className:"btn",onClick:a,children:Object(h.jsx)("span",{className:"navbar-toggler-icon",style:{fontSize:"1.5rem"}})}),Object(h.jsx)("form",{className:"d-flex",onSubmit:function(e){e.preventDefault()},children:Object(h.jsxs)("div",{className:"input-group m-1 text-center",children:[Object(h.jsx)("input",{type:"text",className:"form-control bg-dark text-light border border-secondary",placeholder:"Search","aria-label":"Search",onChange:function(e){t=(t=e.target.value).toLowerCase()},onKeyPress:function(e){"Enter"===e.code&&n(t)}}),Object(h.jsx)("button",{className:"btn btn-secondary p-0",type:"button",onClick:function(e){e.preventDefault(),n(t)},children:Object(h.jsx)("i",{className:"bi bi-search"})})]})}),Object(h.jsxs)("div",{className:"d-inline text-light fw-light",children:["Username",Object(h.jsx)("i",{className:"bi bi-emoji-smile-fill"})]})]})})};n(39);var N=function(){var e=["united states","australia","colombia","iran"],a=e[Math.floor(Math.random()*e.length)],n=Object(t.useState)(a),i=Object(o.a)(n,2),r=i[0],s=i[1];return console.log("Rendering App"),Object(h.jsxs)(c.a,{children:[Object(h.jsx)(S,{onHamburgerClick:function(){document.getElementById("mySidenav").style.width="200px",document.getElementById("main").style.marginLeft="150px"},onSearch:function(e){s(e)}}),Object(h.jsxs)("div",{id:"mySidenav",className:"sidenav",children:[Object(h.jsx)("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:function(){document.getElementById("mySidenav").style.width="0",document.getElementById("main").style.marginLeft="0"}}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(y,{})]}),Object(h.jsx)("div",{id:"main",children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/countries",children:Object(h.jsx)(v,{})}),Object(h.jsx)(l.a,{path:"/add",children:Object(h.jsx)(O,{})}),Object(h.jsx)(l.a,{path:"/",children:Object(h.jsx)(g,{country:r})})]})})]})};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.989510e0.chunk.js.map